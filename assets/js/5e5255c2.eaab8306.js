"use strict";(self.webpackChunk_agoralabs_sh_avm_web_provider=self.webpackChunk_agoralabs_sh_avm_web_provider||[]).push([[793],{413:function(e,n,i){i.r(n),i.d(n,{assets:function(){return p},contentTitle:function(){return c},default:function(){return u},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return h}});var r=i(4848),s=i(8453),a=i(1470),t=i(9365),l=i(4252);const o={},c="Disabling A Client",d={id:"clients/disabling-a-client",title:"Disabling A Client",description:"<TOCInline",source:"@site/docs/clients/disabling-a-client.mdx",sourceDirName:"clients",slug:"/clients/disabling-a-client",permalink:"/clients/disabling-a-client",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Enabling A Client",permalink:"/clients/enabling-a-client"},next:{title:"Signing Transactions",permalink:"/clients/signing-transactions"}},p={},h=[{value:"Overview",id:"overview",level:2},{value:"Disabling the client with all providers",id:"disabling-the-client-with-all-providers",level:2},{value:"Disabling the client with a specific provider and network",id:"disabling-the-client-with-a-specific-provider-and-network",level:2},{value:"Disabling a client for a specific session",id:"disabling-a-client-for-a-specific-session",level:2}];function b(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"disabling-a-client",children:"Disabling A Client"})}),"\n",(0,r.jsx)(l.A,{maxHeadingLevel:4,toc:h}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["The disable method is not required for providers to implement. However, it is useful for providers that have a sessioning system in place when a client has previously called ",(0,r.jsx)(n.a,{href:"../../api-reference/avm-web-client#enableparams",children:(0,r.jsx)(n.code,{children:"enable()"})}),"."]}),"\n",(0,r.jsx)(n.p,{children:"The aim of the disable method is for clients to request that these sessions be removed from the provider."}),"\n",(0,r.jsx)(n.h2,{id:"disabling-the-client-with-all-providers",children:"Disabling the client with all providers"}),"\n",(0,r.jsxs)(n.p,{children:["Assuming a client has been ",(0,r.jsx)(n.a,{href:"enabling-a-client",children:"enabled"})," with one or all providers, you can remove the client from all available providers by:"]}),"\n",(0,r.jsxs)(a.A,{defaultValue:"javascript",values:[{label:"Javascript",value:"javascript"},{label:"TypeScript",value:"typescript"}],children:[(0,r.jsx)(t.A,{value:"javascript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// initialized client\nclient.onDisable(({ error, result }) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n    genesisId: 'testnet-v1.0',\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n  }\n  */\n});\n\n// send a disable request\nclient.disable();\n"})})}),(0,r.jsx)(t.A,{value:"typescript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { IAVMWebClientCallbackOptions } from '@agoralabs-sh/avm-web-provider';\n\n// initialized client\nclient.onDisable(({ error, result }: IAVMWebClientCallbackOptions) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n    genesisId: 'testnet-v1.0',\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n  }\n  */\n});\n\n// send a disable request\nclient.disable();\n"})})})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["If any providers do not support the ",(0,r.jsx)(n.code,{children:"disable"}),"  method, then a ",(0,r.jsx)(n.a,{href:"../../api-reference/errors#methodnotsupportederror",children:(0,r.jsx)(n.code,{children:"MethodNotSupportedError"})})," should be returned."]})}),"\n",(0,r.jsx)(n.h2,{id:"disabling-the-client-with-a-specific-provider-and-network",children:"Disabling the client with a specific provider and network"}),"\n",(0,r.jsx)(n.p,{children:"If you want to target a specific provider and network, you can simply pass the ID of the provider and the genesis hash of the network in the params:"}),"\n",(0,r.jsxs)(a.A,{defaultValue:"javascript",values:[{label:"Javascript",value:"javascript"},{label:"TypeScript",value:"typescript"}],children:[(0,r.jsx)(t.A,{value:"javascript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// initialized client\nclient.onDisable(({ error, result }) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n    genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n    genesisId: 'testnet-v1.0',\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n  }\n  */\n});\n\n// send a disable request\nclient.disable({\n  genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n  providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n});\n"})})}),(0,r.jsx)(t.A,{value:"typescript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { IAVMWebClientCallbackOptions } from '@agoralabs-sh/avm-web-provider';\n\nconst providerId: string = '02657eaf-be17-4efc-b0a4-19d654b2448e';\n\n// initialized client\nclient.onDisable(({ error, result }: IAVMWebClientCallbackOptions) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n    genesisId: 'testnet-v1.0',\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n  }\n  */\n});\n\n// send a disable request\nclient.disable({\n  genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n  providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n});\n"})})})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["If the network and the provider ID is specified, and the provider does not support the network, then a ",(0,r.jsx)(n.a,{href:"../../api-reference/errors#networknotsupportederror",children:(0,r.jsx)(n.code,{children:"NetworkNotSupportedError"})})," should be thrown."]})}),"\n",(0,r.jsx)(n.h2,{id:"disabling-a-client-for-a-specific-session",children:"Disabling a client for a specific session"}),"\n",(0,r.jsx)(n.p,{children:"If you want to remove a specific session, you can provide the session ID(s) in the params:"}),"\n",(0,r.jsxs)(a.A,{defaultValue:"javascript",values:[{label:"Javascript",value:"javascript"},{label:"TypeScript",value:"typescript"}],children:[(0,r.jsx)(t.A,{value:"javascript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// initialized client\nclient.onDisable(({ error, result }) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n    genesisId: 'testnet-v1.0',\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n    sessionIds: ['ab192498-0c63-4028-80fd-f148710611d8'],\n  }\n  */\n});\n\n// send a disable request\nclient.disable({\n  sessionIds: ['ab192498-0c63-4028-80fd-f148710611d8'],\n});\n"})})}),(0,r.jsx)(t.A,{value:"typescript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { IAVMWebClientCallbackOptions } from '@agoralabs-sh/avm-web-provider';\n\n// initialized client\nclient.onDisable(({ error, result }: IAVMWebClientCallbackOptions) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    genesisHash: 'SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=',\n    genesisId: 'testnet-v1.0',\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n    sessionIds: ['ab192498-0c63-4028-80fd-f148710611d8'],\n  }\n  */\n});\n\n// send a disable request\nclient.disable({\n  sessionIds: ['ab192498-0c63-4028-80fd-f148710611d8'],\n});\n"})})})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(b,{...e})}):b(e)}}}]);