"use strict";(self.webpackChunk_agoralabs_sh_avm_web_provider=self.webpackChunk_agoralabs_sh_avm_web_provider||[]).push([[260],{7948:function(e,n,r){r.r(n),r.d(n,{assets:function(){return g},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return c},metadata:function(){return d},toc:function(){return u}});var i=r(7624),s=r(4552),a=r(3500),t=r(6568),o=r(6200);const c={},l="Signing A Message",d={id:"clients/signing-a-message",title:"Signing A Message",description:"<TOCInline",source:"@site/docs/clients/signing-a-message.mdx",sourceDirName:"clients",slug:"/clients/signing-a-message",permalink:"/clients/signing-a-message",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Signing And Posting Transactions",permalink:"/clients/signing-and-posting-transactions"},next:{title:"Providers",permalink:"/providers/"}},g={},u=[{value:"Overview",id:"overview",level:2},{value:"Signing a message",id:"signing-a-message-1",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"signing-a-message",children:"Signing A Message"}),"\n",(0,i.jsx)(o.c,{maxHeadingLevel:4,toc:u}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Providers, if supported, can sign an arbitrary UTF-8 string."}),"\n",(0,i.jsx)(n.h2,{id:"signing-a-message-1",children:"Signing a message"}),"\n",(0,i.jsxs)(a.c,{defaultValue:"javascript",values:[{label:"Javascript",value:"javascript"},{label:"TypeScript",value:"typescript"}],children:[(0,i.jsx)(t.c,{value:"javascript",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// initialized client\nclient.onSignMessage(({ error, result }) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n    signature: 'gqNzaWfEQ...',\n    signer: 'P3AIQVDJ2CTH54KSJE63YWB7IZGS4W4JGC53I6GK72BGZ5BXO2B2PS4M4U',\n  }\n  */\n});\n\n// send a sign message request\nclient.signMessage({\n  message: 'Hello humie!',\n  providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n  signer: 'P3AIQVDJ2CTH54KSJE63YWB7IZGS4W4JGC53I6GK72BGZ5BXO2B2PS4M4U',\n});\n"})})}),(0,i.jsx)(t.c,{value:"typescript",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { IAVMWebClientCallbackOptions } from '@agoralabs-sh/avm-web-provider';\n\n// initialized client\nclient.onSignMessage(({ error, result }: IAVMWebClientCallbackOptions) => {\n  if (error) {\n    console.error('error:', error);\n\n    return;\n  }\n\n  console.log(result);\n  /*\n  {\n    providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n    signature: 'gqNzaWfEQ...',\n    signer: 'P3AIQVDJ2CTH54KSJE63YWB7IZGS4W4JGC53I6GK72BGZ5BXO2B2PS4M4U',\n  }\n  */\n});\n\n// send a sign message request\nclient.signMessage({\n  message: 'Hello humie!',\n  providerId: '02657eaf-be17-4efc-b0a4-19d654b2448e',\n  signer: 'P3AIQVDJ2CTH54KSJE63YWB7IZGS4W4JGC53I6GK72BGZ5BXO2B2PS4M4U',\n});\n"})})})]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["If this method is not supported, then a ",(0,i.jsx)(n.a,{href:"../../api-reference/errors#methodnotsupportederror",children:(0,i.jsx)(n.code,{children:"MethodNotSupportedError"})})," will be sent in the ",(0,i.jsx)(n.code,{children:"error"})," parameter."]})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["If the signer is not known, or not authorized, then a ",(0,i.jsx)(n.a,{href:"../../api-reference/errors#unauthorizedsignererror",children:(0,i.jsx)(n.code,{children:"UnauthorizedSignerError"})})," will be sent in the ",(0,i.jsx)(n.code,{children:"error"})," parameter."]})})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);