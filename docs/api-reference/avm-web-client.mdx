import TOCInline from '@theme/TOCInline';

# AVMWebClient

<TOCInline
  maxHeadingLevel={4}
  toc={toc}
/>

## Static Methods

### `init([options])`

> Initializes the AVM web client object. If no options are supplied, a default configuration is used.

#### Parameters

| Name    | Type                                                         | Required | Default | Description                                    |
|---------|--------------------------------------------------------------|----------|---------|------------------------------------------------|
| options | [`IAVMWebClientInitOptions`](types#iavmwebclientinitoptions) | no       | -       | An object to change the initial configuration. |

#### Returns

| Type                                 | Description                           |
|--------------------------------------|---------------------------------------|
| [`AVMWebClient`](types#avmwebclient) | An initialized AVM web client object. |

## Methods

### `disable([params])`

> Sends a request to remove the client from providers.

#### Parameters

| Name   | Type                                     | Required | Default | Description                                                             |
|--------|------------------------------------------|----------|---------|-------------------------------------------------------------------------|
| params | [`IDisableParams`](types#idisableparams) | no       | -       | Params that specify which provider,network and/or specific session IDs. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `discover([params])`

> Sends a request to get information relating to available providers. This should be called before interacting with any providers to ensure networks and methods are supported.

#### Parameters

| Name   | Type                                       | Required | Default | Description                                   |
|--------|--------------------------------------------|----------|---------|-----------------------------------------------|
| params | [`IDiscoverParams`](types#idiscoverparams) | no       | -       | Params that specify which provider to target. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `enable([params])`

> Enables to a client with providers. If the ID of the provider and/or network is specified, that provider/network is used, otherwise the all providers available providers are used.

#### Parameters

| Name   | Type                                   | Required | Default | Description                                          |
|--------|----------------------------------------|----------|---------|------------------------------------------------------|
| params | [`IEnableParams`](types#ienableparams) | no       | -       | Params that specify the provider and/or the network. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `getConfig()`

> Returns the configuration.

#### Returns

| Type                                               | Description                 |
|----------------------------------------------------|-----------------------------|
| [`IAVMWebClientConfig`](types#iavmwebclientconfig) | The client's configuration. |


### `onDisable(listener)`

> Listens to `disable` messages sent from providers. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                           | Required | Default | Description                                                                                                                                                   |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| listener | (`result`?: [`IDisableResult`](types#idisableresult) \| `null`, `error`?: [`IBaseError`](types#ibaseerror) \| `null`) => (`void` \| `Promise<void>`) \| `null` | yes      | -       | The callback is called when a response message is received, or null to remove the listener. If the result was successful, the `error` parameter will be null. |


### `onDiscover(listener)`

> Listens to `discover` messages sent from providers. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                             | Required | Default | Description                                                                                                                                                   |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| listener | (`result`?: [`IDiscoverResult`](types#idiscoverresult) \| `null`, `error`?: [`IBaseError`](types#ibaseerror) \| `null`) => (`void` \| `Promise<void>`) \| `null` | yes      | -       | The callback is called when a response message is received, or null to remove the listener. If the result was successful, the `error` parameter will be null. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onEnable(listener)`

> Listens to `enable` messages sent from providers. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                         | Required | Default | Description                                                                                                                                                   |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| listener | (`result`?: [`IEnableResult`](types#ienableresult) \| `null`, `error`?: [`IBaseError`](types#ibaseerror) \| `null`) => (`void` \| `Promise<void>`) \| `null` | yes      | -       | The callback is called when a response message is received, or null to remove the listener. If the result was successful, the `error` parameter will be null. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onPostTransactions(listener)`

> Listens to `post_transactions` messages sent from providers. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                                             | Required | Default | Description                                                                                                                                                   |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| listener | (`result`?: [`IPostTransactionsResult`](types#iposttransactionsresult) \| `null`, `error`?: [`IBaseError`](types#ibaseerror) \| `null`) => (`void` \| `Promise<void>`) \| `null` | yes      | -       | The callback is called when a response message is received, or null to remove the listener. If the result was successful, the `error` parameter will be null. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onSignAndPostTransactions(listener)`

> Listens to `sign_and_post_transactions` messages sent from providers. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                                             | Required | Default | Description                                                                                                                                                   |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| listener | (`result`?: [`IPostTransactionsResult`](types#iposttransactionsresult) \| `null`, `error`?: [`IBaseError`](types#ibaseerror) \| `null`) => (`void` \| `Promise<void>`) \| `null` | yes      | -       | The callback is called when a response message is received, or null to remove the listener. If the result was successful, the `error` parameter will be null. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `postTransactions([params])`

> Request providers to post a list of signed transactions to the network.

#### Parameters

| Name   | Type                                                       | Required | Default | Description                                                   |
|--------|------------------------------------------------------------|----------|---------|---------------------------------------------------------------|
| params | [`IPostTransactionsParams`](types#iposttransactionsparams) | yes      | -       | Params that specify the provider and the signed transactions. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `signAndpostTransactions([params])`

> Request providers to sign and post a list of unsigned transactions to the network.

#### Parameters

| Name   | Type                                                       | Required | Default | Description                                                     |
|--------|------------------------------------------------------------|----------|---------|-----------------------------------------------------------------|
| params | [`ISignTransactionsParams`](types#isigntransactionsparams) | yes      | -       | Params that specify the unsigned transactions and the provider. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `startListening()`

> Starts listening to responses from providers. This method should not have to be manually called, as it is called as part of the [initialization](#initoptions) process. his method essentially closes a previous connection and opens a new connection to the BroadcastChannel.

:::note

This method must be called if the client needs listen to messages if the [`stopListening()`](#stoplistening) method was previously called.

:::

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `stopListening()`

> Stops listening to responses from providers. This method closes the connection to BroadcastChannel.

:::caution

It is highly recommended you call this method when you no longer need to listen to provider responses or are cleaning up.

:::

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |
