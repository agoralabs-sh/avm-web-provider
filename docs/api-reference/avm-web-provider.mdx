import TOCInline from '@theme/TOCInline';

# AVMWebProvider

<TOCInline
  maxHeadingLevel={4}
  toc={toc}
/>

## Static Methods

### `init([options])`

> Initializes the AVM web provider object. If no options are supplied, a default configuration is used.

#### Parameters

| Name       | Type                                                             | Required | Default | Description                                                                                                             |
|------------|------------------------------------------------------------------|----------|---------|-------------------------------------------------------------------------------------------------------------------------|
| providerId | `string`                                                         | yes      | -       | This ID of the provider. It is recommended you use a [UUIDv4](https://www.rfc-editor.org/rfc/rfc4122) compliant string. |
| options    | [`IAVMWebProviderInitOptions`](types#iavmwebproviderinitoptions) | no       | -       | An object to change the initial configuration.                                                                          |

#### Returns

| Type                                     | Description                             |
|------------------------------------------|-----------------------------------------|
| [`AVMWebProvider`](types#avmwebprovider) | An initialized AVM web provider object. |

## Methods

### `getConfig()`

> Returns the configuration.

#### Returns

| Type                                                   | Description                   |
|--------------------------------------------------------|-------------------------------|
| [`IAVMWebProviderConfig`](types#iavmwebproviderconfig) | The provider's configuration. |

### `onDisable(listener)`

> Listens to `disable` messages sent from clients. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                                 | Required | Default | Description                                                                            |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|----------------------------------------------------------------------------------------|
| listener | (`params`?: [`IDisableParams`](types#idisableparams)) => ([`IDisableResult`](types#idisableresult) \| [`Promise<IDiscoverResult>`](types#idiscoverresult)) \| `null` | yes      | -       | The listener to call when the request message is sent, or null to remove the listener. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onDiscover(listener)`

> Listens to `discover` messages sent from clients. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                                     | Required | Default | Description                                                                            |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|----------------------------------------------------------------------------------------|
| listener | (`params`?: [`IDiscoverParams`](types#idiscoverparams)) => ([`IDiscoverResult`](types#idiscoverresult) \| [`Promise<IDiscoverResult>`](types#idiscoverresult)) \| `null` | yes      | -       | The listener to call when the request message is sent, or null to remove the listener. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onEnable(listener)`

> Listens to `enable` messages sent from clients. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                         | Required | Default | Description                                                                            |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|----------------------------------------------------------------------------------------|
| listener | (`params`?: [`IEnableParams`](types#ienableparams)) => ([`IEnableResult`](types#ienableresult) \| [`Promise<IEnableResult>`](types#ienableresult)) \| `null` | yes      | -       | The listener to call when the request message is sent, or null to remove the listener. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onPostTransactions(listener)`

> Listens to `post_transactions` messages sent from clients. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                                                                                     | Required | Default | Description                                                                            |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|----------------------------------------------------------------------------------------|
| listener | (`params`?: [`IPostTransactionsParams`](types#iposttransactionsparams)) => ([`IPostTransactionsResult`](types#iposttransactionsresult) \| [`Promise<IPostTransactionsResult>`](types#iposttransactionsresult)) \| `null` | yes      | -       | The listener to call when the request message is sent, or null to remove the listener. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `onSignPostTransactions(listener)`

> Listens to `sign_and_post_transactions` messages sent from clients. This will replace any previous set listeners. If null is supplied, the listener will be removed.

#### Parameters

| Name     | Type                                                                                                                                                                                                                     | Required | Default | Description                                                                            |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------|----------------------------------------------------------------------------------------|
| listener | (`params`?: [`ISignTransactionsParams`](types#isigntransactionsparams)) => ([`IPostTransactionsResult`](types#iposttransactionsresult) \| [`Promise<IPostTransactionsResult>`](types#iposttransactionsresult)) \| `null` | yes      | -       | The listener to call when the request message is sent, or null to remove the listener. |

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `startListening()`

> Starts listening to requests from clients. This method should not have to be manually called, as it is called as part of the [initialization](#initoptions) process. This method essentially closes a previous connection and opens a new connection to the BroadcastChannel.

:::note

This method must be called if the client needs listen to messages if the [`stopListening()`](#stoplistening) method was previously called.

:::

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |

### `stopListening()`

> Stops listening to requests from clients. This method closes the connection to the BroadcastChannel.

:::caution

It is highly recommended you call this method when you no longer need to listen to client's requests or are cleaning up.

:::

#### Returns

| Type   | Description |
|--------|-------------|
| `void` | -           |
